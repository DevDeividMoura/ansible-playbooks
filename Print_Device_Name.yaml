---
- name: Print RouterBOARD Name Sample
  hosts: all
  gather_facts: no
  tasks:
    - name: Get RouterBOARD Name
      raw: "/system identity print; quit;"
      register: rb_name
      changed_when: false

    - name: Log Messages
      raw: "{ :log info \"AWX Entrando\"; :log info \"AWX Saindo\"; quit;}"
      changed_when: false

    - name: Clean RouterBOARD Name
      set_fact:
        cleaned_rb_name: "{{ rb_name.stdout | regex_replace('\r|\u001b[9999B|\r\r\ninterrupted\n\u001b7\u001b[m\u001b8', '') }}"

    - name: Print Message
      debug:
        msg: "Comandos executados no dispositivo: {{ cleaned_rb_name }}"
