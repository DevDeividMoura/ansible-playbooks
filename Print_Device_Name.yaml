---
- name: Print RouterBOARD Name Sample
  hosts: all
  gather_facts: no
  tasks:
    - name: Get RouterBOARD Name
      shell: "/system identity print"
      register: rb_name
      ignore_errors: yes

    - name: Log Messages
      shell: "{ :log info \"AWX Entrando\"; :log info \"AWX Saindo\"; }"
      ignore_errors: true

    - name: Clean RouterBOARD Name
      set_fact:
        cleaned_rb_name: "{{ rb_name.stdout | regex_replace('\r|\u001b[9999B|\r\r\ninterrupted\n\u001b7\u001b[m\u001b8', '') }}"

    - name: Print Message
      debug:
        msg: "Comandos executados no dispositivo: {{ cleaned_rb_name }}"
